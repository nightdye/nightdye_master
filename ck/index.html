<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <script src="https://cdn.nightdye.cn/login/auth.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookie 更新</title>
    <link rel="shortcut icon" href="https://qq.nightdye.cn/qq/images/night.ico" type="image/x-icon">
    <style>
*{margin:0;padding:0;box-sizing:border-box}:root{--cyan-primary:#00fff2;--cyan-secondary:#00d4c8;--cyan-dark:#00a89d;--cyan-glow:rgba(0,255,242,0.6);--dark-bg:#0a0e14;--dark-secondary:#121820;--dark-card:#161d27;--dark-border:#1e2833;--text-primary:#e8f4f3;--text-secondary:#8ba5a3;--error-color:#ff3366;--success-color:#00ff88;--warning-color:#ffcc00}body{font-family:'Noto Sans SC','Microsoft YaHei',-apple-system,sans-serif;background:var(--dark-bg);min-height:100vh;color:var(--text-primary);position:relative;overflow-x:hidden}body::before{content:'';position:fixed;top:0;left:0;right:0;bottom:0;background:radial-gradient(ellipse at 20% 20%,rgba(0,255,242,0.08) 0%,transparent 50%),radial-gradient(ellipse at 80% 80%,rgba(0,212,200,0.06) 0%,transparent 50%),radial-gradient(ellipse at 50% 50%,rgba(0,168,157,0.04) 0%,transparent 70%);pointer-events:none;z-index:0}body::after{content:'';position:fixed;top:0;left:0;right:0;bottom:0;background-image:linear-gradient(rgba(0,255,242,0.03) 1px,transparent 1px),linear-gradient(90deg,rgba(0,255,242,0.03) 1px,transparent 1px);background-size:40px 40px;pointer-events:none;z-index:0}.container{position:relative;z-index:10;max-width:600px;margin:0 auto;padding:30px 20px;min-height:100vh}.card{background:linear-gradient(135deg,var(--dark-card) 0%,var(--dark-secondary) 100%);border:1px solid var(--dark-border);border-radius:8px;padding:25px;margin-bottom:20px;position:relative;overflow:hidden;box-shadow:0 4px 20px rgba(0,0,0,0.4),inset 0 1px 0 rgba(0,255,242,0.1)}.card::before,.card::after{content:'';position:absolute;width:15px;height:15px;border:2px solid var(--cyan-primary);opacity:0.6}.card::before{top:-1px;left:-1px;border-right:none;border-bottom:none}.card::after{bottom:-1px;right:-1px;border-left:none;border-top:none}.card-header{display:flex;align-items:center;gap:12px;margin-bottom:20px;padding-bottom:15px;border-bottom:1px solid var(--dark-border)}.card-header i{font-size:22px;color:var(--cyan-primary);filter:drop-shadow(0 0 8px var(--cyan-glow))}.card-header h1{font-size:18px;font-weight:600;color:var(--text-primary);letter-spacing:1px}.info-row{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid rgba(0,255,242,0.1)}.info-row:last-child{border-bottom:none}.info-label{display:flex;align-items:center;gap:10px;color:var(--text-secondary);font-size:14px}.info-label i{color:var(--cyan-dark);font-size:14px}.info-value{color:var(--cyan-primary);font-weight:600;font-size:14px}.form-group{margin-bottom:20px}.form-group label{display:block;font-size:13px;font-weight:600;color:var(--cyan-primary);letter-spacing:1px;margin-bottom:10px}.form-group textarea{width:100%;min-height:140px;padding:15px;background:rgba(0,0,0,0.3);border:1px solid var(--dark-border);border-radius:6px;color:var(--text-primary);font-size:13px;font-family:'Consolas','Monaco',monospace;line-height:1.6;resize:vertical;transition:all 0.3s ease}.form-group textarea::placeholder{color:var(--text-secondary);opacity:0.5}.form-group textarea:focus{outline:none;border-color:var(--cyan-primary);background:rgba(0,255,242,0.05);box-shadow:0 0 0 3px rgba(0,255,242,0.1),inset 0 0 20px rgba(0,255,242,0.03)}.help-text{display:flex;align-items:center;gap:8px;margin-top:10px;font-size:12px;color:var(--text-secondary)}.help-text i{color:var(--warning-color);font-size:12px}.btn-group{display:flex;gap:10px;flex-wrap:wrap}.btn{flex:1;min-width:120px;padding:12px 16px;border:none;border-radius:6px;font-size:13px;font-weight:600;font-family:inherit;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;position:relative;overflow:hidden;transition:transform 0.2s ease,box-shadow 0.2s ease}.btn::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.2),transparent);transition:left 0.4s ease}.btn-primary{background:linear-gradient(135deg,#1a5c58 0%,#0d3d3a 100%);color:var(--cyan-primary);border:1px solid var(--cyan-dark)}.btn-success{background:linear-gradient(135deg,#1a5c3a 0%,#0d3d25 100%);color:var(--success-color);border:1px solid rgba(0,255,136,0.4)}.btn-warning{background:linear-gradient(135deg,#5c4a1a 0%,#3d320d 100%);color:var(--warning-color);border:1px solid rgba(255,204,0,0.4)}.btn:active{transform:scale(0.97);box-shadow:none}.btn-primary:active{background:linear-gradient(135deg,#0d3d3a 0%,#1a5c58 100%)}.btn-success:active{background:linear-gradient(135deg,#0d3d25 0%,#1a5c3a 100%)}.btn-warning:active{background:linear-gradient(135deg,#3d320d 0%,#5c4a1a 100%)}@media (hover:hover){.btn:hover::before{left:100%}.btn-primary:hover{box-shadow:0 0 20px rgba(0,255,242,0.3);transform:translateY(-2px)}.btn-success:hover{box-shadow:0 0 20px rgba(0,255,136,0.3);transform:translateY(-2px)}.btn-warning:hover{box-shadow:0 0 20px rgba(255,204,0,0.3);transform:translateY(-2px)}.btn:active{transform:translateY(0) scale(0.98)}}.btn:disabled{opacity:0.5;cursor:not-allowed;transform:none !important;box-shadow:none !important}.status-box{display:none;margin-top:20px;padding:15px;border-radius:6px;background:rgba(0,255,242,0.1);border:1px solid rgba(0,255,242,0.3);animation:statusFadeIn 0.3s ease}.status-box.show{display:flex;align-items:flex-start;gap:12px}.status-box i{color:var(--cyan-primary);font-size:16px;margin-top:2px}.status-content{flex:1;font-size:13px;line-height:1.6;color:var(--text-primary)}.status-box.success{background:rgba(0,255,136,0.1);border-color:rgba(0,255,136,0.3)}.status-box.success i{color:var(--success-color)}.status-box.error{background:rgba(255,51,102,0.1);border-color:rgba(255,51,102,0.3)}.status-box.error i{color:var(--error-color)}.status-box.warning{background:rgba(255,204,0,0.1);border-color:rgba(255,204,0,0.3)}.status-box.warning i{color:var(--warning-color)}@keyframes statusFadeIn{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.btn.loading{pointer-events:none}.btn.loading i{animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.page-header{text-align:center;margin-bottom:30px}.page-header h1{font-size:24px;font-weight:700;color:var(--cyan-primary);text-shadow:0 0 20px var(--cyan-glow);letter-spacing:3px;margin-bottom:8px}.page-header p{font-size:13px;color:var(--text-secondary)}@media (max-width:480px){.container{padding:20px 15px}.card{padding:20px}.btn-group{flex-direction:column}.btn{min-width:100%}.info-row{flex-direction:column;align-items:flex-start;gap:8px}}::-webkit-scrollbar{width:6px;height:6px}::-webkit-scrollbar-track{background:var(--dark-secondary)}::-webkit-scrollbar-thumb{background:var(--cyan-dark);border-radius:3px}::-webkit-scrollbar-thumb:hover{background:var(--cyan-primary)}::selection{background:var(--cyan-primary);color:var(--dark-bg)}.btn-qrlogin{background:linear-gradient(135deg,#4a1a5c 0%,#320d3d 100%);color:#cc66ff;border:1px solid rgba(204,102,255,0.4)}.btn-qrlogin:hover{box-shadow:0 0 20px rgba(204,102,255,0.3);transform:translateY(-2px)}.btn-qrlogin:active{background:linear-gradient(135deg,#320d3d 0%,#4a1a5c 100%)}.qrlogin-container{margin-top:20px;padding:20px;background:rgba(204,102,255,0.05);border:1px solid rgba(204,102,255,0.2);border-radius:8px;text-align:center}.qrcode-wrapper{position:relative;display:inline-block;margin-bottom:15px}.qrcode-image{max-width:200px;width:100%;border:2px solid var(--cyan-primary);border-radius:8px;background:#fff}.qrcode-mask{position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.85);border-radius:8px;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#fff}.qrcode-mask i{font-size:40px;color:var(--success-color);margin-bottom:10px}.qrcode-mask.expired i{color:var(--error-color)}.qrlogin-status{font-size:13px;color:var(--text-secondary)}.qrlogin-status.success{color:var(--success-color)}.qrlogin-status.error{color:var(--error-color)}
    </style>
</head>
<body>
    <div class="container" id="main-content" style="display: none;">
        <!-- 页面标题（可选） -->
        <div class="page-header">
            <h1>COOKIE 管理</h1>
            <p>QQ会员Cookie状态监控与更新</p>
        </div>

        <!-- 状态卡片 -->
        <div class="card">
            <div class="card-header">
                <i class="fas fa-info-circle"></i>
                <h1>Cookie 状态</h1>
            </div>
            <div class="info-row">
                <span class="info-label">
                    <i class="fas fa-signal"></i>
                    当前状态
                </span>
                <span class="info-value" id="currentStatus">未检测</span>
            </div>
            <div class="info-row">
                <span class="info-label">
                    <i class="fas fa-clock"></i>
                    最后更新
                </span>
                <span class="info-value" id="lastUpdate">-</span>
            </div>
        </div>

        <!-- 操作卡片 -->
        <div class="card">
            <div class="card-header">
                <i class="fas fa-cookie-bite"></i>
                <h1>更新 Cookie</h1>
            </div>

            <div class="form-group">
                <label for="cookieInput">QQ Cookie</label>
                <textarea 
                    id="cookieInput" 
                    placeholder="粘贴完整的 Cookie 字符串...&#10;&#10;格式: uin=xxx;skey=xxx;p_uin=xxx;pt4_token=xxx;p_skey=xxx"
                ></textarea>
                <div class="help-text">
                    <i class="fas fa-lightbulb"></i>
                    <span>获取会员登陆的cookie填写在这里</span>
                </div>
            </div>

            <div class="btn-group">
                <button class="btn btn-primary" id="btnLoad">
                    <i class="fas fa-download"></i>
                    加载当前
                </button>
                <button class="btn btn-success" id="btnTest">
                    <i class="fas fa-flask"></i>
                    测试有效性
                </button>
                <button class="btn btn-warning" id="btnSave">
                    <i class="fas fa-save"></i>
                    保存更新
                </button>
                <button class="btn btn-qrlogin" id="btnQrLogin">
                    <i class="fas fa-qrcode"></i>
                    扫码登录
                </button>
            </div>

            <!-- 扫码登录区域 -->
            <div class="qrlogin-container" id="qrloginContainer" style="display:none;">
                <div class="qrcode-wrapper">
                    <img id="qrcodeImg" alt="二维码" class="qrcode-image">
                    <div class="qrcode-mask" id="qrcodeMask" style="display:none;">
                        <i class="fas fa-check-circle"></i>
                        <div id="qrcodeMaskText">加载中...</div>
                    </div>
                </div>
                <div class="qrlogin-status" id="qrloginStatus">请使用QQ扫描二维码</div>
            </div>

            <div class="status-box" id="statusBox">
                <i class="fas fa-info-circle"></i>
                <div class="status-content" id="statusContent"></div>
            </div>
        </div>
    </div>

    <script src="https://cdn.nightdye.cn/loader.js"></script>
    <script>
        NightAuth.protectPage();
        document.getElementById('main-content').style.display = 'block';

        // 状态框控制函数示例
        function showStatus(message, type = 'info') {
            const box = document.getElementById('statusBox');
            const content = document.getElementById('statusContent');
            const icon = box.querySelector('i');
            
            const icons = {
                info: 'fas fa-info-circle',
                success: 'fas fa-check-circle',
                error: 'fas fa-times-circle',
                warning: 'fas fa-exclamation-triangle'
            };
            
            box.className = 'status-box show ' + type;
            icon.className = icons[type];
            content.textContent = message;
        }
    </script>
</body>
</html>